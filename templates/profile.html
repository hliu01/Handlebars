<!DOCTYPE html>
{% extends "template.html" %}

{% block buttons %}
<li class="nav-item">
  <a href="{{ url_for('root') }}" class="nav-link">Home</a>
</li>

<li class="nav-item">
  <a href="{{ url_for('logout') }}" class="nav-link">Logout</a>
</li>
{% endblock %}


{% block body %}
<div style="margin: 15px;">

<h1><p>{{ title }}</p></h1>

<div class="container-fluid" >

  <div class="row">
    <div class="col-sm">
      <div style="margin: 10px;">
        <h2><p>My Bikes</p></h2>

        {% if toprint|length == 0 %}
        <br>
        <h5>You haven't saved any bikes! <a href="{{ url_for('root') }}">Search for a bike.</a></h5>
        {% else %}
        {% for entry in toprint %}
        <div class="container-fluid" >
          <div class="row">
            <div class="col">
              <div style="margin: 10px;">
                <h3><p>{{ entry[3] }}</p><h3>
                <h4><p>{{ entry[5] }}</p><h4>
                <form action="/search" method=GET>
                <input type="hidden" name="searchbar" value="{{entry[2]}}">
                <button class="btn btn-primary" type="submit">Go To {{entry[3]}}</button>
                </form>

              </div>
            </div>

            <div class="col-auto" style="text-align: center">
              <form action="/addReview" method=GET style="padding-bottom: 5px">
              <input type="hidden" name="id" value="{{entry[0]}}">
              <button class="btn btn-primary" type="submit">Write/Edit a Review</button>
              </form>
              <form action="/profile" method="GET">
                <input type="hidden" name="rid" value="{{entry[0]}}">
                <button class="btn btn-danger" type="submit">Remove</button>
              </form>
            </div>
          </div>
        </div>
        {% endfor %}
        {% endif %}
      </div>
    </div>
  </div>
  <hr>
</div>

<div class="container-fluid" >
  <div class="row">
    <div class="col-sm">
      <div style="margin: 10px;">
        <h2><p>My Reviews</p><h2>

          <h5>Reviews written: {{ reviews|length }}</h5>
          {% for entry in reviews %}
          <div class="container-fluid" >
            <div class="row">
              <div class="col">
                <div style="margin: 10px;">
                  {% if entry[1] in locs %}
                  <h3><p>{{locs[entry[1]][1]}}, {{locs[entry[1]][0]}}</p></h3>
                  {% endif %}
                  <h6><p>{{ entry[3] }}</p></h6>
                  {% for n in range(5) %}
                  {% if n < entry[2] %}
                  <div style="color: #ffc700; float:left;">
                  ★
                  </div>
                  {% else %}
                  <div style="color: #ccc; float:left;">
                  ★
                  </div>
                  {% endif %}
                  {% endfor %}
                </div>
              </div>

              <div class="col-auto" style="text-align: center">
                <form action="/addReview" method=GET style="padding-bottom: 5px">
                <input type="hidden" name="id" value="{{entry[1]}}">
                <button class="btn btn-primary" type="submit">Edit Review</button>
                </form>
                <form action="/search" method=GET>
                <input type="hidden" name="searchbar" value="{{locs[entry[1]][0]}}">
                <button class="btn btn-primary" type="submit">Go To {{locs[entry[1]][1]}}</button>
                </form>
              </div>
            </div>
          </div>
          {% endfor %}

      </div>
    </div>
  </div>
</div>

</div>
{% endblock %}
